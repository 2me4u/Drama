{% extends "shop/shop-layout.html" %}
{% block content %}
<div class="col-md-9 mx-auto">
  <h2><i class="fas fa-fw fa-pencil"></i> Edit {{ item.name }} <img class="img-fluid" src="{{ item.icon_url }}" alt="item-preview" style="width: 50px;height: 50px;object-fit: cover;"></h2>

  <form action="/api/edit_item/{{ item.id }}" method="post">

    <label for="name">Item name:</label>
    <input type="text" id="name" name="name" class="form-control" value="{{ item.name }}" />

    <label for="description" class="mt-3">Description:</label>
    <textarea id="description" name="description" class="form-control">
      {{ item.description }}
    </textarea>

    <label for="icon" class="mt-3">Icon URL:</label>
    <input type="text" id="icon" name="icon-url" class="form-control" value="{{ item.icon_url }}" />

    <label for="price" class="mt-3">Full price:</label>
    <input type="number" id="price" name="price" class="form-control" value="{{ item.price }}" />

    <label for="discount-price" class="mt-3">Discount price:</label>
    <input type="number" id="discount-price" name="discount-price" class="form-control" value="{{ item.discount_price }}" />
    <p class="text-muted mb-0">Discount price must be lesser than full price or 0 for no discount.</p>

    <label for="cat" class="mt-3">Item category:</label>
    <select id="cat" name="category" class="form-control">
      <option value="{{ item.category.id }}">{{ item.category.name }}</option>
      {% for c in cats %}
      <option value="{{ c.id }}">{{ c.name }}</option>
      {% endfor %}
    </select>

    <div class="container-fluid my-5">
      <div class="row justify-content-between">
        <div class="col-6">
          <a href="/shop">
            <div class="btn btn-outline-primary">
              <i class="fas fa-fw fa-arrow-left"></i>
              Back to shop
            </div>
          </a>
        </div>
        <div class="col-6 d-flex justify-content-end">
          <input type="submit" value="Save changes" class="btn btn-primary" />
        </div>
      </div>
    </div>

  </form>
</div>
{% endblock %}